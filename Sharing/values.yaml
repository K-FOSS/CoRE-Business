
xbackbone:
  #
  # IMPORTANT NOTE
  #
  # This chart inherits from our common library chart. You can check the default values/options here:
  # https://github.com/k8s-at-home/library-charts/tree/main/charts/stable/common/values.yaml
  #

  image:
    # -- image repository
    repository: pe46dro/xbackbone-docker
    # -- image pull policy
    pullPolicy: IfNotPresent

  # -- environment variables. See [image repo](https://github.com/Pe46dro/XBackBone-docker#environment-variables) for more details.
  # @default -- See below
  env:
    # -- Set the container timezone
    TZ: UTC

  # -- Configures service settings for the chart.
  # @default -- See values.yaml
  service:
    main:
      ports:
        http:
          port: 80

  ingress:
    # -- Enable and configure ingress settings for the chart under this key.
    # @default -- See values.yaml
    main:
      enabled: true
      ingressClassName: traefik-core

      labels:
        wan-mode: 'public'
        lan-mode: 'private'

      annotations:
        cert-manager.io/cluster-issuer: kjdev-cluster
        external-dns.alpha.kubernetes.io/target: k0s-dc1.resolvemy.host.
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
        traefik.ingress.kubernetes.io/router.tls: 'true'
      hosts:
        -  # -- Host address. Helm template can be passed.
          host: share.kjmedia.stream
          ## Configure the paths for the host
          paths:
            -  # -- Path.  Helm template can be passed.
              path: /
              # -- Ignored if not kubeVersion >= 1.14-0
              pathType: Prefix

      tls:
        - secretName: kjmediastream-default-certificates
          hosts:
            - '*.kjmedia.stream'

  # -- Configure persistence settings for the chart under this key.
  # @default -- See values.yaml
  persistence:
    config:
      enabled: true
      mountPath: /app/config
